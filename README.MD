# üêæ petstore-scraping

Projeto respons√°vel pela **extra√ß√£o de dados** de lojas e franquias do setor pet.

Esta etapa comp√µe a **camada Bronze** da arquitetura de dados, focada exclusivamente na **coleta bruta** das informa√ß√µes.

Os dados extra√≠dos por este scraper ser√£o consumidos pelo projeto [`petstore-etl`](https://github.com/rafa-trindade/petstore-etl), que far√° o tratamento Silver e Gold, carga no banco de dados, e posterior consumo pelo reposit√≥rio [`petstore-bi`](https://github.com/rafa-trindade/petstore-bi) para BI e Dashboards.

---

## üìå Descri√ß√£o

O `petstore-scraping` automatiza a coleta de dados de **franquias do segmento pet** para integra√ß√£o com o projeto [`petstore-etl`](https://github.com/rafa-trindade/petstore-etl) e executa as seguintes camadas:

* **üü§ Extractc (bronze):** coleta via scraping de dados brutos diretamente dos sites das franquias (HTMLs e textos sem padroniza√ß√£o).

A camadas ‚ö™ Silver e üü° Gold ser√£o executadas pelo projeto [`petstore-etl`](https://github.com/rafa-trindade/petstore-etl).

---

## üìä Estrutura dos Dados e Metadados

Os dados brutos coletados est√£o organizados em um **DataFrame** com as seguintes colunas:

| Coluna        | Tipo   | Descri√ß√£o                   | Valores poss√≠veis / Observa√ß√µes | Unidade | Camada   | Origem           | √öltima Atualiza√ß√£o |
| ------------- | ------ | --------------------------- | ------------------------------- | ------- | -------- | ---------------- | ------------------ |
| empresa       | string | Nome da rede                | Petz, Cobasi, Petlove...        | -       | Bronze   | petstore-sraping | 2025-10-05         |
| nome          | string | Nome da loja                | -                               | -       | Bronze   | petstore-sraping | 2025-10-05         |
| logradouro    | string | Logradouro simplificado     | -                               | -       | Bronze   | petstore-sraping | 2025-10-05         |
| bairro        | string | Bairro                      | -                               | -       | Bronze   | petstore-sraping | 2025-10-05         |
| cidade        | string | Cidade                      | -                               | -       | Bronze   | petstore-sraping | 2025-10-05         |
| estado        | string | Sigla do estado             | SP, RJ, MG...                   | -       | Bronze   | petstore-sraping | 2025-10-05         |
| cep           | string | CEP normalizado             | 00000-000                       | -       | Bronze   | petstore-sraping | 2025-10-05         |
| data_extracao | date   | Data da extra√ß√£o do dado    | DD-MM-AAAA                      | -       | Bronze   | petstore-sraping | 2025-10-05         |

---

## üß© Fluxo de Dados

```mermaid
graph TD
    A[[petstore-scraping<br>Bronze]] --> B[petstore-etl<br>Silver e Gold<br>PostgreSQL]
    B --> C[petstore-bi<br>BI e Dashboards]
```
---

## üìä Estrutura do Projeto Final

| Reposit√≥rio | Fun√ß√£o | Camada | Principais Tecnologias |
| ----------------- | ----------------------------- | ------------------ | -------------------------------------- |
| [`petstore-scraping`](https://github.com/rafa-trindade/petstore-scraping) | Coleta de Dados de Franquias | üü§ Bronze | Selenium, BeautifulSoup4, lxml, pandas |
| [`petstore-etl`](https://github.com/rafa-trindade/petstore-etl) | Limpeza, Padroniza√ß√£o e Carga | ‚ö™ Silver / üü° Gold | pandas, brazilcep, requests, numpy, tabulate, SQLAlchemy, psycopg2-binary, python-dotenv |
| [`petstore-bi`](https://github.com/rafa-trindade/petstore-bi) | BI e Dashboards | üìä BI | Streamlit, Plotly, pandas |

---

## ‚öôÔ∏è Tecnologias e Bibliotecas `petstore-scraping`

* [**Selenium**](https://pypi.org/project/selenium/) ‚Üí automa√ß√£o de navega√ß√£o e captura de p√°ginas din√¢micas  
* [**BeautifulSoup4**](https://pypi.org/project/beautifulsoup4/) ‚Üí parsing e extra√ß√£o de informa√ß√µes de HTML  
* [**lxml**](https://pypi.org/project/lxml/) ‚Üí processamento r√°pido de HTML/XML  
* [**pandas**](https://pypi.org/project/pandas/) ‚Üí manipula√ß√£o e estrutura√ß√£o de dados tabulares  

---

## üñ•Ô∏è Log de Execu√ß√£o `petstore-scraping`

```text
----------------------------------------------
- Coletando dados da Petz...
----------------------------------------------
- Processo conclu√≠do. 264 lojas salvas em data/bronze/petz_bronze.csv

----------------------------------------------
- Coletando dados da Cobasi...
----------------------------------------------
- Processo conclu√≠do. 255 lojas salvas em data/bronze/cobasi_bronze.csv

----------------------------------------------
- Coletando dados da Petlove...
----------------------------------------------
- Processo conclu√≠do. 14 lojas salvas em data/bronze/petlove_bronze.csv

----------------------------------------------
- Unifica√ß√£o de arquivos Bronze...
----------------------------------------------
- Processo conclu√≠do. 533 lojas salvas em data/bronze/lojas_bronze.csv
- Data da extra√ß√£o: 05/10/2025
```
üîó [Ver log completo](https://raw.githubusercontent.com/rafa-trindade/petstore-scraping/refs/heads/main/logs/log.txt)

---

## üîó Integra√ß√£o com Projeto de Transforma√ß√£o e Carga

Os arquivos gerados na pasta `data/bronze/` devem ser consumidos pelo projeto [`petstore-etl`](https://github.com/rafa-trindade/petstore-etl) para limpeza, padroniza√ß√£o e carga no banco de dados.

---

## üè™ Redes Suportadas

Atualmente, o projeto coleta dados das seguintes redes:

* **Petz**
* **Cobasi**
* **Petlove**
